/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   main.c                                             :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: ngoguey <ngoguey@student.42.fr>            +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2016/02/18 11:59:12 by ngoguey           #+#    #+#             */
/*   Updated: 2016/02/18 12:05:24 by ngoguey          ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "fillit.h"

#include "stdlib.h"

t_piece const pcs[] = {
	{0, 0x10302, 0x401802, 2, 3, {{1, 0},{0, 1},{1, 1},{0, 2}}, {0, 0}, '\0'},
	{1, 0x702, 0x3802, 3, 2, {{1, 0},{0, 1},{1, 1},{2, 1}}, {0, 0}, '\0'},
	{2, 0x30202, 0xc01002, 2, 3, {{1, 0},{1, 1},{0, 2},{1, 2}}, {0, 0}, '\0'},
	{3, 0x20302, 0x801802, 2, 3, {{1, 0},{0, 1},{1, 1},{1, 2}}, {0, 0}, '\0'},
	{4, 0x306, 0x1806, 3, 2, {{1, 0},{2, 0},{0, 1},{1, 1}}, {0, 0}, '\0'},
	{5, 0x10301, 0x401801, 2, 3, {{0, 0},{0, 1},{1, 1},{0, 2}}, {0, 0}, '\0'},
	{6, 0x207, 0x1007, 3, 2, {{0, 0},{1, 0},{2, 0},{1, 1}}, {0, 0}, '\0'},
	{7, 0x701, 0x3801, 3, 2, {{0, 0},{0, 1},{1, 1},{2, 1}}, {0, 0}, '\0'},
	{8, 0x603, 0x3003, 3, 2, {{0, 0},{1, 0},{1, 1},{2, 1}}, {0, 0}, '\0'},
	{9, 0x1010101, 0x200400801, 1, 4, {{0, 0},{0, 1},{0, 2},{0, 3}}, {0, 0}, '\0'},
	{10, 0x10103, 0x400803, 2, 3, {{0, 0},{1, 0},{0, 1},{0, 2}}, {0, 0}, '\0'},
	{11, 0x407, 0x2007, 3, 2, {{0, 0},{1, 0},{2, 0},{2, 1}}, {0, 0}, '\0'},
	{12, 0x30101, 0xc00801, 2, 3, {{0, 0},{0, 1},{0, 2},{1, 2}}, {0, 0}, '\0'},
	{13, 0x303, 0x1803, 2, 2, {{0, 0},{1, 0},{0, 1},{1, 1}}, {0, 0}, '\0'},
	{14, 0x20203, 0x801003, 2, 3, {{0, 0},{1, 0},{1, 1},{1, 2}}, {0, 0}, '\0'},
	{15, 0x107, 0x807, 3, 2, {{0, 0},{1, 0},{2, 0},{0, 1}}, {0, 0}, '\0'},
	{16, 0x704, 0x3804, 3, 2, {{2, 0},{0, 1},{1, 1},{2, 1}}, {0, 0}, '\0'},
	{17, 0x20301, 0x801801, 2, 3, {{0, 0},{0, 1},{1, 1},{1, 2}}, {0, 0}, '\0'},
	{18, 0xf, 0xf, 4, 1, {{0, 0},{1, 0},{2, 0},{3, 0}}, {0, 0}, '\0'},
};

int							main(int ac, char *av[])
{
	t_ppool		pool;
	int			i;
	int const	max_rand = 1;

	bzero(&pool, sizeof(pool)); //debug
	if (ac < 2)
	{
		srand(time(0));
		/* srand(1); */
		for (i = 0; i < max_rand; i++)
			pool.pcs[i] = pcs[rand() % sizeof(pcs) / sizeof(*pcs)];
		pool.lastpid = max_rand - 1;
	}
	else
	{
		if (flt_parse(av[1], &pool))
			return (1);
	}
	for (i = 'A'; i <= 'Z'; i++)
		pool.pcs[i - 'A'].character = i;

	clock_t p1;

	p1 = clock();
	flt_solve(&pool);
	/* printf("%.6f\n", ((double)(clock() - p1)) / (double)CLOCKS_PER_SEC); */

	/* p1 = clock(); */
	/* solver(&pool); */
	/* printf("%.6f\n", ((double)(clock() - p1)) / (double)CLOCKS_PER_SEC); */
	return (0);
}
